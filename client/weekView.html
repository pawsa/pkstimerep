<h1 class="page-header">Weekly report</h1>
<p class="lead">Enter your weekly report here. When done with the week report, lock it.</p>
<div class="table-responsive" ng-if="$ctrl.days">
  <table class="table table-striped">
    <thead ng-if="$ctrl.days">
      <tr>
	<th>Date</th><th>Arrival</th><th>Break (m)</th><th>Departure</th><th>Extra (m)</th>
	<th>Type</th><th>.</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="d in $ctrl.days">
	<td>{{ d.date }}</td>
	<td><input class="pkstime" ng-model='d.arrival' placeholder='Arrival'></input></td>
	<td><input class="pksmin" ng-model='d.break' placeholder='Break (m)' type='number'></input></td>
	<td><input class="pkstime" ng-model='d.departure' placeholder='Departure'></input></td>
	<td><input class="pksmin" ng-model='d.extra' placeholder='Extra (m)' type='number'></input></td>
	<td><day-type-selector type="d.type"></day-type-selector>
	<td><button ng-click="$ctrl.update(d)" class="btn btn-default">Update</button>
      </tr>
    </tbody>
  </table>
  <div>Flex status transferred: {{ $ctrl.initialFlex | minutesToHours }} h;
    current: {{ $ctrl.flexhours | minutesToHours }} h</div>
</div>
<div ng-if="!$ctrl.days">Reading...</div>
<div ng-enable="$ctrl.days">
  <button class="btn btn-danger" ng-click="$ctrl.lock()">Lock</button>
</div>
